= Managing Hazelcast through the Admin Console

== Enabling Hazelcast

To enable Hazelcast for an instance:

* Select the instance's configuration from
the page tree:

image::assets/hazelcast-admin-console-select-instance-config.png[]

* Click the "Hazelcast" button to view the "Hazelcast
Configuration" page:

image::assets/hazelcast-admin-console-select-hazelcast.png[]

* Check "Enabled", and optionally "Dynamic" to apply
the configuration without a restart, and save.

image::assets/hazelcast-admin-console-enable-hazelcast.png[]

== Configuring Hazelcast

As with enabling Hazelcast, navigate to the Hazelcast Configuration page of
your instances configuration. To apply the configuration to multiple instances,
ensure that they either clone, or better, reference the edited configuration.

The following configuration options are available here:

image:assets/hazelcast-admin-console-hazelcast-options.png[Payara 4.1.2.172 Hazelcast Options]
[cols=",",options="header",]
|====
|Property |Description
|Enabled |Whether or not Hazelcast is enabled.

|Dynamic |Determines if the Hazelcast member embedded in Payara will be
restarted to apply any changes made

|Override Configuration File |Specifies the Hazelcast configuration file
to use. The path specified is relative to the domain config directory.

If you are using a custom GlassFish server configuration for a cluster
or standalone instance (e.g. _cluster-config_), then the Hazelcast
configuration file should be placed in the directory with the same name
(e.g. <domain-root>/config/cluster-config). This will ensure it is
replicated to the node during startup.

Using this option to point to a valid Hazelcast configuration file will cause
all other options set to be ignored. Any options unset within the Hazelcast
configuration file will be set to the Hazelcast defaults.

|Cluster Group Name | Specifies the Hazelcast group name, to be optionally used
 to help divide clusters into logical, segregated groups (i.e. _dev-group_,
   _prod-group_).

|Cluster Group Password |Specifies the password used to access the Hazelcast
group.

|Start Port | The port to run Hazelcast on. If this port is busy, the port
specified will be incremented until a valid port is found.

|Multicast Port |The multicast port for communications in the Hazelcast
cluster.

|Multicast Group |The multicast group for communications in the
Hazelcast cluster.

|JNDI Name |The JNDI name to bind the Hazelcast instance to.

|License Key |Enables
https://hazelcast.com/products/enterprise/[Hazelcast Enterprise]
features.

|Lite |Sets the cluster to lite mode, where it will cluster but *not* store any
cluster data

|Host Aware Partitioning |Whether or not to enable
http://docs.hazelcast.org/docs/latest/manual/html-single/index.html#grouping-types[host-aware
partitioning] for the cluster. Host aware partitioning *must be* enabled
on all members of the cluster (including Payara Micro instances) for
this feature to work correctly.
|====

== Setting Hazelcast as the persistence provider

_Note that you can always select Hazelcast as a persistence provider, even if
it it not yet enabled._

To set up Hazelcast for persistence:

* Select the instance's configuration from the page tree:

image::assets/hazelcast-admin-console-select-instance-config.png[Payara 4.1.2.172 Page Tree]

* Select "Availability Service" to view the "Availability Service" page:

image::assets/hazelcast-admin-console-select-availability-service.png[Payara 4.1.2.172 Availability Service]

=== Setting Web Persistence

* Open the "Web Container Availability" tab, and select "Hazelcast" from the
Persistence Type drop-down menu:

image::assets/hazelcast-admin-console-availability-enable-web-persistence.png[Payara 4.1.2.172 Web Persistence]

* Save the changes.

=== Setting EJB Persistence

* Open the "EJB Container Availability" tab and select "Hazelcast" from the
Persistence Type drop-down menu:

image::assets/hazelcast-admin-console-availability-enable-ejb-persistence.png[Payara 4.1.2.172 EJB Persistence]

* Save the changes.

== Viewing Cluster Members

To view cluster members on the admin console:

=== Viewing from an instance

* Select an instance within the cluster you wish to view from the page tree:

image::assets/hazelcast-admin-console-select-instance.png[Payara 4.1.2.172 Page Tree]

* Open the "Hazelcast" tab and select the "Cluster Members" sub-tab to view
the cluster members page:

image::assets/hazelcast-admin-console-view-cluster-members.png[Payara 4.1.2.172 Cluster Members]

=== Viewing from the DAS

* If your DAS is Hazelcast-enabled (change the `server-config` if not), select
the "Domain" from the page tree:

image::assets/hazelcast-admin-console-select-das.png[Payara 4.1.2.172 Page Tree]

* Open the "Hazelcast" tab and select the "Cluster Members" sub-tab to view
the cluster members page:

image::assets/hazelcast-admin-console-view-cluster-members-from-domain.png[Payara 4.1.2.172 Domain Cluster Members]
